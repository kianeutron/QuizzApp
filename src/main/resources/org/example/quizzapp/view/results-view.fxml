<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane prefWidth="950.0" prefHeight="750.0"
            xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.quizzapp.controller.ResultsController">
   <top>
      <VBox alignment="CENTER" spacing="15.0"
            style="-fx-background-color: rgba(255,255,255,0.15); -fx-padding: 25px;">
         <children>
            <Label fx:id="titleLabel" styleClass="title-label" text="ðŸŽ‰ Quiz Results ðŸŽ‰"
                   style="-fx-font-size: 48px;" />
         </children>
      </VBox>
   </top>
   <center>
      <VBox alignment="CENTER" spacing="35.0">
         <children>
            <!-- Completion Message Section with celebration card -->
            <VBox alignment="CENTER" spacing="20.0"
                  style="-fx-background-color: rgba(255,255,255,0.95); -fx-background-radius: 25px; -fx-padding: 40px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 20, 0, 0, 8);">
               <children>
                  <Label fx:id="completionMessageLabel" styleClass="completion-message-label"
                         text="ðŸŽŠ Quiz Completed! ðŸŽŠ" wrapText="true"
                         style="-fx-font-size: 36px; -fx-text-fill: #667eea;" />
                  <Label fx:id="playerScoreLabel" styleClass="player-score-label"
                         text="Your Score: 0/0 (0%)"
                         style="-fx-font-size: 32px; -fx-text-fill: #27ae60; -fx-background-color: rgba(39,174,96,0.1); -fx-background-radius: 15px; -fx-padding: 15px 30px;" />
               </children>
            </VBox>

            <!-- High Scores Table with modern styling -->
            <VBox alignment="CENTER" spacing="20.0"
                  style="-fx-background-color: rgba(255,255,255,0.95); -fx-background-radius: 25px; -fx-padding: 35px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 20, 0, 0, 8);">
               <children>
                  <Label styleClass="section-label" text="ðŸ† High Scores"
                         style="-fx-font-size: 32px; -fx-text-fill: #667eea;" />
                  <TableView fx:id="resultsTable" prefHeight="280.0" prefWidth="750.0"
                             style="-fx-font-size: 16px;">
                     <columns>
                        <TableColumn fx:id="playerNameColumn" prefWidth="250.0" text="ðŸ‘¤ Player Name" />
                        <TableColumn fx:id="scoreColumn" prefWidth="250.0" text="â­ Score" />
                        <TableColumn fx:id="dateColumn" prefWidth="250.0" text="ðŸ“… Date" />
                     </columns>
                  </TableView>
               </children>
            </VBox>

            <!-- Action Buttons with modern design -->
            <HBox alignment="CENTER" spacing="25.0">
               <children>
                  <Button fx:id="playAgainButton" mnemonicParsing="false" onAction="#handlePlayAgain"
                          styleClass="success-button" text="ðŸ”„ Play Again" prefWidth="220.0"
                          style="-fx-font-size: 20px;" />
                  <Button fx:id="backToMenuButton" mnemonicParsing="false" onAction="#handleBackToMenu"
                          styleClass="secondary-button" text="ðŸ  Back to Menu" prefWidth="220.0"
                          style="-fx-font-size: 20px;" />
               </children>
            </HBox>
         </children>
         <padding>
            <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
         </padding>
      </VBox>
   </center>
</BorderPane>
